@import url("setting");

/* 課程券紀錄 */
.container.history, .container-gk.history { min-height: 70dvh; padding: 0 15px 50px 15px;
    h2 { margin-bottom: 0; }
}

.history-table { width: 100%; max-width: 1200px; margin: 0 auto;
    table { width: 100%; 
        border-spacing: 0; background: @color-white;
        border-left: 1px solid @color-lighter; border-top: 1px solid @color-lighter;
    
        thead tr td { position: sticky; top: 80px; padding: 10px;
            color: @color-white; text-align: center; background: @color-cisbase; white-space: nowrap;
            border-right: 1px solid @color-lighter; border-bottom: 1px solid @color-lighter; 
            z-index: 1;
        }
        tbody tr {
            th { padding: 10px; text-align: center; background: @color-cisbase-light; 
                border-right: 1px solid @color-lighter; border-bottom: 1px solid @color-lighter; }
            td { padding: 10px; vertical-align: middle; background: @color-white;
                border-right: 1px solid @color-lighter; border-bottom: 1px solid @color-lighter;
            }
            .center { text-align: center; }
            .nowrap { white-space: nowrap; 
                .add { display: inline-block; margin-left: 5px; font-size: 24px; color: @color-cisbase; }
                .reduce { display: inline-block; margin-left: 5px; font-size: 24px; color: @color-red; }
            }
            .lesson-id { font-size: 14px; word-break: break-all; }
            a.lesson-id, .invoice a { display: inline-block; min-width: 100px; text-decoration: underline; }
            .price { text-align: right; }
            .success { color: @color-green; }
            .error { color: @color-red; }
        }
    }

    .teacher-info { display: flex; flex-flow: nowrap; align-items: center; max-width: 300px; padding: 5px;
        .head-pic { width: 60px; height: 60px; margin-right: 15px;
            display: flex; flex-flow: nowrap; justify-content: center; align-items: center; 
            border-radius: 99em; box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2); overflow: hidden;
        }
        .profile-info-basic { width: calc(100% - 75px);
            .teacher-name { margin-bottom: 5px; font-size: 16px; font-weight: bold; }
            .country { display: flex; flex-flow: nowrap; justify-content: flex-start; align-items: center; 
                .country-flag { width: 24px; margin-right: 6px; display: flex; flex-flow: nowrap; justify-content: center; align-items: center; }
                .country-name { width: calc(100% - 30px); font-size: 14px; color: @color-normal; }
            }
        }
    }
}

@media (max-width: 820px) {
    .history-table { overflow-x: auto; 
        table thead tr td { position: inherit; }
    }
}

/* 訂購紀錄 */
.order-detail { 
    .popup-container { max-width: 600px; }
    .popup-content { padding-left: 30px; padding-right: 30px; }
    .form-row { margin: 20px 0;
        .form-row__name { margin-bottom: 5px; color: @color-cisbase; font-size: 14px; font-weight: bold; }
        .form-row__field { font-size: 18px; }
        .lesson-id { font-size: 14px; word-break: break-all; }
        .success { color: @color-green; }
        .error { color: @color-red; }
    }

    .invoice { border-top: 2px dashed @color-lighter;}

    .free-plan-list { display: flex; flex-flow: wrap; justify-content: space-between; align-items: stretch;
        width: 100%; margin-top: 10px; color: @color-normal; font-size: 18px; background: @color-lightist; border-radius: 25px; overflow: hidden;
        .intro { display: flex; flex-flow: nowrap; justify-content: space-between; align-items: center; width: 100%; padding: 20px;
            .head-pic { width: 60px; height: 60px;margin-right: 10px;
                display: flex; flex-flow: nowrap; justify-content: center; align-items: center; border-radius: 99em; box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2); overflow: hidden; 
            }
            .detail { width: calc(100% - 70px); font-size: 16px;
                h3 { color: @color-cisbase; font-size: 18px; }
            }
        }
        .total { width: 100%; display: flex; flex-flow: nowrap; justify-content: space-between; align-items: center; padding: 20px; 
            color: @color-cisbase; font-weight: bold; background: @color-cisbase-light; 
            span { white-space: nowrap; }
            del { display: inline-block; margin-right: 5px; color: @color-light; font-size: 14px; white-space: nowrap; }
        }
    }
}

/* 預約列表/上課紀錄 */
.container.reservation, .container.lession-history, .container-gk.reservation, .container-gk.lession-history { min-height: 70dvh; padding: 20px 10px 50px 10px;
    h2 { display: flex; flex-flow: nowrap; justify-content: center; align-items: center; white-space: nowrap; 
        .back { display: inline-block; margin-right: 10px; font-size: 16px; text-decoration: underline; }
        i { margin-right: 10px; font-size: 16px; }
    }
    .form-row__field { position: relative; display: inline-flex; align-items: center; width: 100%; max-width: 200px; margin-left: 20px; 
        select { width: 100%; height: 40px; padding: 5px 25px 5px 15px; border: 1px solid @color-light; background: @color-white; border-radius: 5px; }
        .icon-btn { display: block; position: absolute; right: -8px; top: 5px; bottom: 0; margin: auto 0; padding: 5px 10px; color: @color-normal; background: none; }
        .icon-btn.select { pointer-events: none; }
    }
    .reservation-wrap, .lession-history-wrap { width: 100%; max-width: 1000px; margin: 0 auto; padding: 0 15px; }
}

.lesson-list { display: flex; flex-flow: wrap; justify-content: space-between; align-items: center; margin-bottom: 20px;
    background: @color-white; border-radius: 10px; box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
    > * { width: 100%; padding: 15px 10px; }
    .state-bar { padding: 10px 20px; display: flex; flex-flow: nowrap; justify-content: space-between; align-items: center; 
        background: @color-cisbase-light;
        .lesson-id { margin-right: 20px; font-size: 14px; word-break: break-all; }
        .lesson-state { white-space: nowrap;
            i { display: inline-flex; flex-flow: nowrap; justify-content: center; align-items: center; width: 30px; height: 30px; color: @color-white; border-radius: 99em; }
            i.lesson--reserved { background: @color-yellow; }
            i.lesson--canceled { background: @color-red; }
        }
    }
    .teacher-info { width: 32%; padding-left: 20px; display: flex; flex-flow: nowrap; align-items: center;
        .head-pic { width: 100px; height: 100px; margin-right: 15px;
            display: flex; flex-flow: nowrap; justify-content: center; align-items: center; 
            border-radius: 99em; box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2); overflow: hidden;
        }
        .profile-info-basic { width: calc(100% - 115px);
            .teacher-name { margin-bottom: 5px; font-size: 16px; font-weight: bold; }
            .country { display: flex; flex-flow: nowrap; justify-content: space-between; align-items: center; 
                .country-flag { width: 24px; display: flex; flex-flow: nowrap; justify-content: center; align-items: center; }
                .country-name { width: calc(100% - 30px); font-size: 14px; color: @color-normal; }
            }
        }
    }
    .lession-info { width: 68%; 
        .plan-name { margin-bottom: 5px; font-size: 18px; font-weight: bold; }
        time { display: block; }
        time.cancel { color: @color-red; }
        .textbook { margin-top: 5px; }
    }
    .sys-btn { width: 100%; padding-right: 20px; text-align: right;
        > a { position: relative; display: inline-block; min-width: 120px; padding: 5px 15px; margin: 5px 2px; color: @color-cisbase; text-align: center; white-space: nowrap; border: 2px solid @color-cisbase; border-radius: 20px; }
        .none { color: @color-lighter; border-color: @color-lighter; cursor: text; }
        .red-btn { color: @color-red; border-color: @color-red; }
        .new-msg::after { display: block; content: ''; position: absolute; width: 15px; height: 15px; right: -3px; top: -3px; 
            background: @color-green; border-radius: 99em; 
            -webkit-animation: color-shiny 1.5s infinite; 
            animation: color-shiny 1.5s infinite;
        }
        .enter-now { color: @color-white; background: @color-red; border-color: @color-red; }
    }
}
.lesson-list.lesson--canceled { 
    .state-bar { background: @color-lightist; }
}

.message { width: 100%; padding: 20px;
    h4 { margin-bottom: 30px; }
    .form-row { margin: 0 auto 30px auto;
        .form-row__name { margin-bottom: 5px; color: @color-cisbase; font-size: 14px; font-weight: bold; }
        .form-row__content { line-height: 160%; }
        .form-row__field { position: relative; display: flex; flex-flow: nowrap; align-items: center;
            textarea { display: block; width: 100%; height: 100px; padding: 10px; background: @color-lightist; border-radius: 5px; }
        }
    }
}

@media (max-width: 820px) {
    .container.reservation, .container.lession-history, .container-gk.reservation, .container-gk.lession-history {
        h2 { flex-flow: wrap;
            > div { width: 100%; }
            .form-row__field { width: calc(50% - 10px); margin: 5px 5px 0 5px; }
        }
    }
    .lesson-list { 
        .state-bar {
            .lesson-id { font-size: 12px; }
        }
        .teacher-info { width: 100%; }
        .lession-info { width: 100%; padding: 0 20px 10px 20px; }
        .sys-btn { padding: 0 10px 15px 10px; text-align: center; }        
    }

    .order-detail .free-plan-list .total {
        span, del { display: block; text-align: right; margin: 0; }
    }
}

/* 評價popup */
.review-pop .popup-container { max-width: 1000px; }
.review-popwrap { display: flex; flex-flow: nowrap; justify-content: space-between;
    .review-popleft { width: 32%; }
    .review-popright { width: 64%; display: flex; flex-flow: wrap; justify-content: space-between; }
    .form-row { width: 100%; margin: 20px auto; 
        .form-row__name { display: block; margin-bottom: 5px; font-size: 16px; font-weight: bold; color: @color-cisbase; text-align: left; }
        .form-row__content { line-height: 160%; }
        .form-row__field { position: relative; display: flex; flex-flow: nowrap; align-items: center;
            a { text-decoration: underline; }
            span { margin-right: 10px; white-space: nowrap; 
                > i { display: inline-block; }
            }
            .checked--no, .checked--yes { 
                > i { color: @color-yellow; font-size: 24px; }
            }
            .verify i { color: @color-green; }
            .no-verify i { color: @color-red; }
            input[type=text], input[type=email], input[type=password], input[type=number], select { width: 100%; height: 40px; padding: 5px 15px; border: 1px solid @color-light; background: none; border-radius: 5px; }
            
            input[type=radio], input[type=checkbox] { display: none; }
            input[type=radio] + label { display: flex; flex-flow: nowrap; align-items: center; margin-right: 20px;
                .icon { display: inline-flex; flex-flow: nowrap; justify-content: center; align-items: center; 
                    width: 20px; height: 20px; margin-right: 5px; border-radius: 99em; border: 3px solid @color-lighter; 
                        > i { display: none; font-size: 15px; }
                }
            }

            input[type=radio]:checked + label { 
                .icon { color: @color-white; background: @color-cisbase; border: none;
                        > i { display: block; }
                }
            }

            input[type=checkbox] + label { 
                span { color: @color-yellow; font-size: 24px; }
                .checked--no { display: inline-block; }
                .checked--yes { display: none; }
            }

            input[type=checkbox]:checked + label { 
                .checked--no { display: none; }
                .checked--yes { display: inline-block; }
            }

            textarea { display: block; width: 100%; height: 200px; padding: 10px; background: @color-lightist; border-radius: 5px; }

            .icon-btn { display: block; position: absolute; right: 0; top: 0; bottom: 0; margin: auto 0; padding: 5px 10px; color: @color-normal; background: none; }
            .icon-btn:hover { display: block; }
            .icon-btn.select { pointer-events: none; }
            .basic-btn { width: auto; max-width: auto; padding: 10px 25px; font-size: 16px; }
            .basic-btn.gray { background: @color-lighter; cursor: text; }
        }
    }
    .review-popleft .form-row:last-child { margin-top: 40px; }
    .review-popright .form-row { width: 50%; }
    .review-popright .form-row.full { width: 100%; }
}
.review-pop, .message { padding: 20px 30px 30px 30px;
    .bottom-btn { width: 100%; margin-top: 20px; display: flex; flex-flow: nowrap; justify-content: center; align-items: center;
        .basic-btn { margin: 0 10px; padding: 10px 30px; font-size: 18px; }
    }
}
.review-pop.wrap { max-width: 600px;
    .review-popwrap { flex-flow: wrap; }
}

@media (max-width: 820px) {
    .review-popwrap { flex-flow: wrap-reverse;
        .review-popleft { width: 100%; }
        .review-popright { width: 100%; 
            .form-row { width: 100%; }
        }
    }
}